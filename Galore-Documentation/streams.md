 
# Streams  [![Gitter Join the chat](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/kognifai/Lobby)
Galore uses stream abstraction which provides access to both real-time and historical data, whereas, many time series databases and systems have  strict data separation methods for real-time and historical data as well as they have different abstraction methods for accessing real-time and historical data. 

A stream can be compared to a pipe with continuous flow of some medium often a fluid. The streams do not have a continuous flow of  a course medium, rather have discrete items called events. 

There are different types of events, depend on the streams they belong. All events have a UTC timestamp set as close to the origin of the event.

The following are the Galore Streams' properties:

  - They are strictly ordered by timestamp (this can be  violated by some aggregate stream types)

  - Event timestamps are unique for most of the stream types (this can be  violated by some stream types)

  - They are strongly typed

  - They can contain history, but some are real-time only

When data is ingested in Galore, the individual events are dispatched to their respective streams based on their source identifier, either an **external id** to identify the sensor or device producing the measurement or event, or Galore specific stream id or path in the asset model.

Streams are often called as **raw data** streams, metadata set is associated with them which describes the stream. The raw data stream is always associated with a single node in the asset model.

There are three types of raw data streams:

- **Vector event stream**- Events in a vector stream are timestamp value and a vector (array) is floating point value(s). The vector can have one or more elements and usually represents a measurement or a calculated value. Metadata displays description for each element in the display-name and engineering unit fields.

- **State event stream**- This stream records state transition event from a state machine. It has fields for current and previous state, timestamp for the last two transitions, and attributes (key, value lists). Typically, it is used for external alarm and events, and alarm and events generated by the calculator service. The two timestamp field helps you to visualize states as waterfall or timeline diagrams. The stream and its events have a type field that associates the stream with state descriptors.

- **Sample set event stream**- Events in a sample set stream have a data structure similar to a table. Each column in the table is called  channel and represents high frequency data that can be used with a vector stream, can be represented in lookup tables, calibration curves, reference curves and forecast, and can be periodically reproduced.

Galore creates a set of different aggregate streams from the raw data stream. Each stream has different aggregate types:

- **Vector pre aggregates**- An aggregate stream is produced for a set of predefined time intervals. Events in these streams are still vector. There are three elements in the aggregate vector with average, min and max values for the respective interval. The last element of the aggregate vector is a count of number of events that was aggregated for the interval.

- **State event pre aggregates**- An aggregate stream is produced for a set of predefined time intervals. The events in these streams are  special state aggregate type with a count of number of times a state has been visited and the total duration spent in that time for the aggregate interval. Propagated state event streams are also aggregated in this way (see next item). 

- **Propagated state event streams**- These streams are associated with all nodes in the asset model. A merged stream of all the event streams is considered for these nodes, usually by being a descendant node in the asset model. Multiple propagated streams can be associated with each node if different state stream types relate to them. A typical use of this feature is: e.g. to find all alarms events on and asset or to find alarms caused by monitoring other streams.

- **Sample set pre aggregate streams**- These streams count the number of sample set events in each pre aggregate interval.


## Next Topic
[TQL functional query language](Galore-Documentation/TQL%20Syntax.md) is the next topic to explore.
